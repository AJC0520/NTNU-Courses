- web page consists of objects, each of which can be stored on different web servers.
- object can be html file, jpeg image, java applet, audio file, ....
- web pages consists of base HTML file, which include several referenced objects, each addressable by a URL.


HyperText Transfer Protocols
- Web application layer protocol
- client/server model
	- client: browser that requests receives, using http protocol and displays web objects.
	- server: web server sends (using http protocol) objects in response to requests.

http uses TCP:
- client initiates tcp connection (create socket) to server, port 80
- server accepts tcp connection from client
- HTTP messages (application-layer protocol messages) exchanged between browser (HTTP client) and web server (HTTP server)
- TCP connection closed

HTTP is stateless, which means that the server maintains no information about past client requests.
-> protocols that maintain state are complex
	- Past history (state) must be maintained
	- if server/client crashes, their view of state may be inconsistent, must be reconciled.



#### TWO TYPES OF HTTP CONNECTIONS
##### Non-persistent HTTP
1. TCP connection opened
2. at most one object sent over TCP connection
3. TCP connection closed

downloading multiple objects required multiple connections.

RTT: time for a small packet to travel from client to server and back.
![[Pasted image 20250121133623.png]]
Non-persistent HTTP response time = 2RTT + file transmission time.

Issues:
- require 2 RTTs per object
- OS overhead for each TCP connection
- Browsers often open multiple parallel TCP connection to fetch referenced objects in parallel.
##### Persistent HTTP
- TCP connection opened to server
- Multiple objects can be sent over single TCP connection between client, and that server.
- TCP connection closed.

- Server leaves connection open after sending response
- Subsequent HTTP messages between same client/server sent over open connection
- client sends requests as soon as it encounters a referenced object
- as little as one RTT for all the referenced objects (cutting response time in half)


#### HTTP requests message
- two types of HTTP messages:
	- Request
		- ASCII (human readable format)
			-![[Pasted image 20250121134239.png]]
		- POST method:
			- Web pages often include form input
			- user input sent from client to server in entity body of HTTP POST request message.
		- GET method (for sending data to server)
			- Include user data in URL field of HTTP GET request message (following a "?")
		- HEAD method:
			- requests headers(only) that would be returned if specified URL were requested with an HTTP GET method.
		* PUT method:
			* upload new file (object) to server
			* completely replaces file that exists at specified URL with content in entity body of POST HTTP request message
	- Response
		- status line(protocol), status code, status phrase
	- ![[Pasted image 20250121134659.png]]

#### HTTP response status codes:
- Status code appears in 1st line in server-to-client response message.


#### Maintaining user/server state: cookies
- web sites and client browser use cookies to maintain some state between transactions.
- four components:
	1. Cookie header line of HTTP response message
	2. Cookie header line in the next HTTP request message
	3. Cookie file kept on users host, managed by users browser
	4. Back-end database at web site

Cookies can be used for:
- Authorization
- Shopping carts
- recommendations
- user session state (web e-mail)


#### Web caches
goal: satisfy client requests without involving origin server

- user configures browser to point to a local web cache
- browser sends all HTTP requests to cache
	- if object in cache: cache returns object to client
	- else: cache requests object from origin server, caches received object, then returns object to client.

#### Web caches aka proxy servers
- Web cache acts as both client and server
	- Server for original requesting client
	- client to origin server
- server tells cache about objects allowable caching in response header

Web caching reduces response time for client request.
- cache is closer to client

reduce traffic on an institutions access link
Internet is dense with caches.
	Enables poor content providers to more effectively deliver content.
![[Pasted image 20250121140453.png]]
