
point to point:
- one sender and one receiver
-reliable, in-order byte steam:
- no "message boundaries"
full duplex data:
- bi-directional data flow in same connection
- MSS: maximum segment size.
cumulative ACKs
pipelineing
connection-oriented
flow-controlled


#### TCP segment structure
![[Pasted image 20250324105645.png]]

Sequence numbers:
- byte stream (number) of first byte in segments data
Acknowledgements:
- seq # of next byte expected from other side
- cumulative ACK'

How to set TCP timeout value?
- Longer than RTT, but RTT varies!
- Too short? Premature timeouts, unnecessary retransmission
- too long? slow reaction to segment loss

EstimatedRTT = (1 - a)*estimatedRTT + a**sampleRTT
- Exponential weighted moving average (EWMA)
- Influencte of past sample decreases exponentially fast
- typical value of a = 0.125

Timeout interval. EstimatedRTT plus safety margin
- Large variation in estimatedRTT, want a larger safety margin

TimeoutInterval = EstimatedRTT + 4*DevRTT
DevRTT = EWMA of SampleRTT deviation from EstimatedRTT


#### TCP sender (simplified)
Event: data received from application

- Create segment with seq #
- Seq # is byte-stream number of first data byte in segment
- Start timer if not already running
	- Think of timer as for oldest unACKed segment
	- expiration interval: timeoutinterval


